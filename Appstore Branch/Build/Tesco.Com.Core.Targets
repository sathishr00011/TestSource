<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\TeamBuild\Microsoft.TeamFoundation.Build.targets" />
  <PropertyGroup>
    <TfCommand>"C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\tf.exe"</TfCommand>
    <CoreAssembly>Tesco.Com.Core.dll</CoreAssembly>
    <ServiceModelAssembly>Tesco.Com.ServiceModel.dll</ServiceModelAssembly>
    <UnityAssembly>Tesco.Com.Unity.dll</UnityAssembly>
    <TestingAssembly>Tesco.Com.Testing.dll</TestingAssembly>
    <MessagingAssembly>Tesco.Com.Messaging.dll</MessagingAssembly>
  </PropertyGroup>

  <Target Name="MyTarget">
    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(CoreAssembly)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(CoreAssembly)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(CoreAssembly)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(ServiceModelAssembly)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(ServiceModelAssembly)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(ServiceModelAssembly)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
    
    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(UnityAssembly)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(UnityAssembly)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(UnityAssembly)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(TestingAssembly)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(TestingAssembly)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(TestingAssembly)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />

	<Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(MessagingAssembly)" ContinueOnError="true" />
	<Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(MessagingAssembly)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(MessagingAssembly)" ContinueOnError="true" />
	<Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
  </Target>

</Project>