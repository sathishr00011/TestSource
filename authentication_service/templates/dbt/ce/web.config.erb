<?xml version="1.0"?>
<configuration>
  <!--<configuration>-->
  <configSections>
    <section name="loggingConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
    <section name="exceptionHandling" type="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Configuration.ExceptionHandlingSettings, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
    <section name="securityCryptographyConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Security.Cryptography.Configuration.CryptographySettings, Microsoft.Practices.EnterpriseLibrary.Security.Cryptography, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
    <section name="instrumentationConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Common.Instrumentation.Configuration.InstrumentationConfigurationSection, Microsoft.Practices.EnterpriseLibrary.Common, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" requirePermission="false" />
  </configSections>
  <instrumentationConfiguration applicationInstanceName="AuthenciationService" performanceCountersEnabled="false" />
  <loggingConfiguration name="" tracingEnabled="true" defaultCategory="TescoAuthenicationApp">
    <listeners>
      <add name="Rolling Flat File Trace Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.RollingFlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.RollingFlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" fileName="D:\Tesco\Logs\AppStore\AuthenticationService\AuthenticationService.log" formatter="SCOMLogFormatter" rollInterval="Midnight" maxArchivedFiles="5" header="" footer="" />
      <add name="Event Log Trace Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedEventLogTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FormattedEventLogTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" source="AuthenciationService" formatter="Text Formatter" log="TescoAuthenicationApp" traceOutputOptions="LogicalOperationStack, DateTime, Timestamp, ProcessId, ThreadId, Callstack" />
    </listeners>
    <formatters>
      <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" template="{timestamp},{category},{message},{localMachine}" name="Text Formatter" />
      <add type="Tesco.Com.AppStore.Core.Services.CustomLogFormatter, Tesco.Com.AppStore.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="CustomLogFormatter" />
      <add type="Tesco.Com.AppStore.Core.Services.SCOMLogFormatter, Tesco.Com.AppStore.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="SCOMLogFormatter" />
    </formatters>
    <categorySources>
      <add switchValue="Error" name="TescoAuthenicationApp">
        <listeners>
          <add name="Event Log Trace Listener" />
          <add name="Rolling Flat File Trace Listener" />
        </listeners>
      </add>
    </categorySources>
    <specialSources>
      <allEvents switchValue="All" name="All Events" />
      <notProcessed switchValue="All" name="Unprocessed Category" />
      <errors switchValue="All" name="Logging Errors &amp; Warnings">
        <listeners>
          <add name="Rolling Flat File Trace Listener" />
        </listeners>
      </errors>
    </specialSources>
  </loggingConfiguration>
  <exceptionHandling>
    <exceptionPolicies>
      <add name="Global Policy">
        <exceptionTypes>
          <add name="All Exceptions" type="System.Exception, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" postHandlingAction="None">
            <exceptionHandlers>
              <add name="Logging Exception Handler" type="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" logCategory="TescoAuthenicationApp" eventId="100" severity="Error" title="Enterprise Library Exception Handling" formatterType="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.TextExceptionFormatter, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" priority="1" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>
    </exceptionPolicies>
  </exceptionHandling>
  <securityCryptographyConfiguration defaultHashInstance="AuthenticateHashProvider" defaultSymmetricCryptoInstance="AuthenticateManaged">
    <hashProviders>
      <add name="AuthenticateHashProvider" type="Microsoft.Practices.EnterpriseLibrary.Security.Cryptography.HashAlgorithmProvider, Microsoft.Practices.EnterpriseLibrary.Security.Cryptography, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" algorithmType="System.Security.Cryptography.SHA256Cng, System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" saltEnabled="true" />
    </hashProviders>
    <symmetricCryptoProviders>
      <add name="AuthenticateManaged" type="Microsoft.Practices.EnterpriseLibrary.Security.Cryptography.SymmetricAlgorithmProvider, Microsoft.Practices.EnterpriseLibrary.Security.Cryptography, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" algorithmType="System.Security.Cryptography.RijndaelManaged, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" protectedKeyFilename="~/App_Data/EncryptionKey.key" protectedKeyProtectionScope="CurrentUser" />
    </symmetricCryptoProviders>
  </securityCryptographyConfiguration>
  <appSettings>
    <add key="DefaultHashProvider" value="AuthenticateHashProvider" />
    <add key="DefaultCryproProvider" value="AuthenticateManaged" />
    <add key="DefaultEventLogSource" value="AuthenciationService" />
    <add key="DefaultEventLogName" value="TescoAuthenicationApp" />
    <add key="DefaultPolicy" value="Global Policy" />
    <add key="PropertyFiles" value="Default.properties,Debug.Properties" />
    <add key="EmailRegEx" value="^[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}](\.?[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}])*@[\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}](\-?[\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}])*(\.[\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}](\-?[\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}])*)+$" />
    <add key="PasswordRegEx" value="^[^\s][\p{IsBasicLatin}\p{IsLatin-1Supplement}\p{IsLatinExtended-A}\p{IsLatinExtended-B}\p{Nd}]{4,8}[^\s]$" />
    <!--Mock Repository-->
    <add key="IsMockRepositoryEnabled" value="false" />
  </appSettings>
  <connectionStrings>
    <add name="CZBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=BOAUser;Data Source=UKDEV66CESQL01v" />
    <add name="PLBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=PLBOAUser;Data Source=UKDEV66CESQL01v" />
    <add name="TRBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=TrBOAUser;Data Source=UKDEV66CESQL01v" />
    <add name="SKBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=SKBOAUser;Data Source=UKDEV66CESQL01v" />
    <add name="THBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=THBOAUser;Data Source=UKDEV66APSQL01V" />
    <add name="CNBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=CNBOAUser;Data Source=UKDEV66APSQL01V" />
    <add name="MYBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=MYBOAUser;Data Source=UKDEV66APSQL01V" />
    <add name="HUBOAAuthenticationDB" connectionString="Password=mn[iTd9U3^]6Mh@+m{v4;Persist Security Info=False;User ID=BOAUser;Initial Catalog=HUBOAUser;Data Source=UKDEV66CESQL01v" />
    <add name="ReportingAuthenticationDB" connectionString="Password=P@ssw0rd;Persist Security Info=False;User ID=BIUser;Initial Catalog=BIConfig;Data Source=UKDEV66REPSR01V" />
  </connectionStrings>
  <unity configSource="Unity.config" />
  <!--
    For a description of web.config changes see http://go.microsoft.com/fwlink/?LinkId=235367.

    The following attributes can be set on the <httpRuntime> tag.
      <system.Web>
        <httpRuntime targetFramework="4.5" />
      </system.Web>
  -->
  <system.web>
    <compilation targetFramework="4.5" debug="false" />
    <httpRuntime targetFramework="4.5" />
    <pages controlRenderingCompatibilityVersion="4.0" />
  </system.web>
  <!-- Need to decide on the binding of the service -->
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding maxReceivedMessageSize="2000000000">
          <readerQuotas maxDepth="2000000000" maxStringContentLength="2000000000" maxArrayLength="2000000000" maxBytesPerRead="2000000000" maxNameTableCharCount="2000000000" />
        </binding>
      </basicHttpBinding>
    </bindings>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
          <dataContractSerializer maxItemsInObjectGraph="2147483646" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
  <system.runtime.serialization>
    <dataContractSerializer>
      <declaredTypes>
        <add type="Tesco.Com.AppStore.Core.MessageTypes.RequestMessage, Tesco.Com.AppStore.Core.MessageTypes">
          <knownType type="Tesco.Com.AppStore.Authentication.Messages.AuthenticateUserRequest, Tesco.Com.AppStore.Authentication.Contracts" />
          <knownType type="Tesco.Com.AppStore.Authentication.Messages.GetUserRequest, Tesco.Com.AppStore.Authentication.Contracts" />
        </add>
        <add type="Tesco.Com.AppStore.Core.MessageTypes.ResponseMessage, Tesco.Com.AppStore.Core.MessageTypes">
          <knownType type="Tesco.Com.AppStore.Core.MessageTypes.ErrorResponseMessage, Tesco.Com.AppStore.Core.MessageTypes" />
          <knownType type="Tesco.Com.AppStore.Authentication.Messages.AuthenticateUserResponse, Tesco.Com.AppStore.Authentication.Contracts" />
          <knownType type="Tesco.Com.AppStore.Authentication.Messages.GetUserResponse, Tesco.Com.AppStore.Authentication.Contracts" />
        </add>
      </declaredTypes>
    </dataContractSerializer>
  </system.runtime.serialization>
</configuration>