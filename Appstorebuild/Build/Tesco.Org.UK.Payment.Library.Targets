<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\TeamBuild\Microsoft.TeamFoundation.Build.targets" />

  <PropertyGroup>
   <TfCommand>"C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\tf.exe"</TfCommand>
	<Service_Impl>Tesco.Org.Enterprise.Payment.ServiceImpl.dll</Service_Impl>
	<Service_Util>Tesco.Org.Enterprise.Payment.ServiceUtil.dll</Service_Util>
	<CyberSource_Provider>Tesco.Org.Enterprise.Payment.CyberSourceProvider.dll</CyberSource_Provider>
    <SOLVE_Provider>Tesco.Org.Enterprise.Payment.SOLVEProvider.dll</SOLVE_Provider>
    	<Service_Extension>Tesco.Org.Enterprise.Payment.ServiceExtensions.dll</Service_Extension>
  </PropertyGroup>
  <Target Name="MyTarget">
	
    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Impl)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(Service_Impl)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Impl)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Util)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(Service_Util)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Util)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(CyberSource_Provider)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(CyberSource_Provider)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(CyberSource_Provider)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(SOLVE_Provider)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(SOLVE_Provider)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(SOLVE_Provider)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Extension)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(Service_Extension)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(Service_Extension)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
  
  </Target>
</Project>
