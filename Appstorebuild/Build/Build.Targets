<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\TeamBuild\Microsoft.TeamFoundation.Build.targets" />
  <PropertyGroup>
    <TfCommand>"C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\tf.exe"</TfCommand>
    <Core>Tesco.Com.Core.dll</Core>
    <ServiceModel>Tesco.Com.ServiceModel.dll</ServiceModel>
    <MVC>Tesco.Com.Web.Mvc.dll</MVC>
    <Test>Tesco.Com.Testing.dll</Test>
    <Enterprise_Common>Tesco.Com.Enterprise.Common.dll</Enterprise_Common>
    <Enterprise_AuthenticationContracts>Tesco.Com.Enterprise.Authentication.Contracts.dll</Enterprise_AuthenticationContracts>
    <Enterprise_CustomerContracts>Tesco.Com.Enterprise.Customer.Contracts.dll</Enterprise_CustomerContracts>
    <Enterprise_LocationContracts>Tesco.Com.Enterprise.Location.Contracts.dll</Enterprise_LocationContracts>
    <AppStore_Core>Tesco.Com.AppStore.Core.dll</AppStore_Core>
    <AppStore_Test>Tesco.Com.AppStore.Testing.dll</AppStore_Test>
    <AppStore_Core_MessageTypes>Tesco.Com.AppStore.Core.MessageTypes.dll</AppStore_Core_MessageTypes>
    <AppStore_Web>Tesco.Com.AppStore.Web.dll</AppStore_Web>
    <AppStore_Region>Tesco.Com.AppStore.Czech.dll</AppStore_Region>
    <CustomerContracts>Tesco.Com.AppStore.Customer.Contracts.dll</CustomerContracts>
    <StoreHouseContracts>Tesco.Com.AppStore.StoreHouse.Contracts.dll</StoreHouseContracts>
    <DeliveryContracts>Tesco.Com.AppStore.Delivery.Contracts.dll</DeliveryContracts>
    <OrderContracts>Tesco.Com.AppStore.Order.Contracts.dll</OrderContracts>
    <OrderFulFillmentContracts>Tesco.Com.AppStore.OrderFulfillment.Contracts.dll</OrderFulFillmentContracts>
    <CheckoutContracts>Tesco.Com.AppStore.Checkout.Contracts.dll</CheckoutContracts>
    <TotallingContracts>Tesco.Com.AppStore.Totalling.Contracts.dll</TotallingContracts>
    <DeviceIdentificationContracts>Tesco.Com.AppStore.DeviceIdentification.Contracts.dll</DeviceIdentificationContracts>    
  </PropertyGroup>
  
  <Target Name="MyTarget">
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\$(Core)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Core)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkout &quot;../Lib/$(Core)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Core)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\$(Core)" ContinueOnError="true" />
    
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\$(ServiceModel)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(ServiceModel)" ContinueOnError="true"/>
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\$(ServiceModel)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(ServiceModel)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\$(ServiceModel)" ContinueOnError="true"/>
    
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\$(MVC)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(MVC)" ContinueOnError="true"/>
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\$(MVC)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(MVC)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\$(MVC)" ContinueOnError="true"/>

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\$(Test)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Test)" ContinueOnError="true"/>
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\$(Test)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Test)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\$(Test)" ContinueOnError="true"/>

    <!-- Enterprise Common -->
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\$(Enterprise_Common)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_Common)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\Enterprise\$(Enterprise_Common)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_Common)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\$(Enterprise_Common)"  ContinueOnError="true"  />

    <!-- Enterprise Contracts -->
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\AuthenticationService\$(Enterprise_AuthenticationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_AuthenticationContracts)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\Enterprise\AuthenticationService\$(Enterprise_AuthenticationContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_AuthenticationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\AuthenticationService\$(Enterprise_AuthenticationContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\CustomerService\$(Enterprise_CustomerContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_CustomerContracts)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\Enterprise\CustomerService\$(Enterprise_CustomerContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_CustomerContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\CustomerService\$(Enterprise_CustomerContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\LocationService\$(Enterprise_LocationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_LocationContracts)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\Enterprise\LocationService\$(Enterprise_LocationContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(Enterprise_LocationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Enterprise\LocationService\$(Enterprise_LocationContracts)"  ContinueOnError="true"  />


    <!-- AppStore Common -->
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Core\$(AppStore_Core)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Core)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\Core\$(AppStore_Core)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Core)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Core\$(AppStore_Core)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Testing\$(AppStore_Test)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Test)" ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\Testing\$(AppStore_Test)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Test)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Testing\$(AppStore_Test)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Core.MessageTypes\$(AppStore_Core_MessageTypes)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Core_MessageTypes)"  ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\Core.MessageTypes\$(AppStore_Core_MessageTypes)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Core_MessageTypes)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Core.MessageTypes\$(AppStore_Core_MessageTypes)"  ContinueOnError="true" />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Web\$(AppStore_Web)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Web)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;..\Lib\AppStore\Web\$(AppStore_Web)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Web)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Web\$(AppStore_Web)"  ContinueOnError="true"  />
    
    <!-- AppStore Region -->
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Czech\$(AppStore_Region)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Region)" ContinueOnError="true" />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\Czech\$(AppStore_Region)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(AppStore_Region)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\Czech\$(AppStore_Region)" ContinueOnError="true"  />

    <!-- Services Contracts -->
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\CustomerService\$(CustomerContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(CustomerContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\CustomerService\$(CustomerContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(CustomerContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\CustomerService\$(CustomerContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\StoreHouseService\$(StoreHouseContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(StoreHouseContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\StoreHouseService\$(StoreHouseContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(StoreHouseContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\StoreHouseService\$(StoreHouseContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\DeliveryService\$(DeliveryContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(DeliveryContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\DeliveryService\$(DeliveryContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(DeliveryContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\DeliveryService\$(DeliveryContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderService\$(OrderContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(OrderContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderService\$(OrderContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(OrderContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderService\$(OrderContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderFulfillment\$(OrderFulFillmentContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(OrderFulFillmentContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderFulfillment\$(OrderFulFillmentContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(OrderFulFillmentContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\OrderFulfillment\$(OrderFulFillmentContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\CheckoutService\$(CheckoutContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(CheckoutContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\CheckoutService\$(CheckoutContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(CheckoutContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\CheckoutService\$(CheckoutContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\TotallingService\$(TotallingContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(TotallingContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\TotallingService\$(TotallingContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$(TotallingContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\TotallingService\$(TotallingContracts)"  ContinueOnError="true"  />

    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\DeviceIdentificationService\$(DeviceIdentificationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\$(DeviceIdentificationContracts)"  ContinueOnError="true"  />
    <Exec Command="$(TfCommand) checkout &quot;$(MSBuildProjectDirectory)\..\Lib\AppStore\DeviceIdentificationService\$(DeviceIdentificationContracts)&quot;" ContinueOnError="true"/>
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\$DeviceIdentificationContracts)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\AppStore\DeviceIdentificationService\$DeviceIdentificationContracts)"  ContinueOnError="true"  />

    <Exec Command="$(TfCommand) checkin /bypass" ContinueOnError="true" />
  </Target>
</Project>