<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\TeamBuild\Microsoft.TeamFoundation.Build.targets" />
  <PropertyGroup>
    <TfCommand>"C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\tf.exe"</TfCommand>
	  <AppStore_Czech>Tesco.Com.AppStore.Czech.dll</AppStore_Czech>
	  <AppStore_Poland>Tesco.Com.AppStore.Poland.dll</AppStore_Poland>
    <AppStore_Slovakia>Tesco.Com.AppStore.Slovakia.dll</AppStore_Slovakia>
	  <AppStore_RegionAddress>Tesco.Com.AppStore.RegionAddress.dll</AppStore_RegionAddress>
    <AppStore_RegionCommon>Tesco.Com.AppStore.Region.Common.dll</AppStore_RegionCommon>
    <AppStore_Thailand>Tesco.Com.AppStore.Thailand.dll</AppStore_Thailand>
    <AppStore_Malaysia>Tesco.Com.AppStore.Malaysia.dll</AppStore_Malaysia>  
</PropertyGroup>
  
  <Target Name="MyTarget">
    <!-- AppStore Common -->
    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Czech)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_Czech)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Czech)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
	
	<Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Poland)" ContinueOnError="true" />
	<Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_Poland)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Poland)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Slovakia)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_Slovakia)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Slovakia)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Thailand)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_Thailand)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Thailand)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Malaysia)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_Malaysia)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_Malaysia)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
    
    <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_RegionAddress)" ContinueOnError="true" />
    <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_RegionAddress)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_RegionAddress)" ContinueOnError="false" />

      <Exec Command="$(TfCommand) checkout /lock:none $(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_RegionCommon)" ContinueOnError="true" />
      <Copy SourceFiles="$(MSBuildProjectDirectory)\..\..\..\..\..\Binaries\$(AppStore_RegionCommon)" DestinationFiles="$(MSBuildProjectDirectory)\..\Lib\Tesco\$(AppStore_RegionCommon)" ContinueOnError="false" />

    <Exec Command="$(TfCommand) checkin /bypass /noprompt /override:'***TARGET_CHECKIN***' /Comment:'***NO_CI***'" ContinueOnError="true" />
  </Target>
</Project>